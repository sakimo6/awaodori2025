<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>とくしま阿波踊り 2025 崎本家出演 スケジュール</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #F8F7F5; }
        .timeline-item::before {
            content: '';
            position: absolute;
            top: 0.7rem; /* Adjusted for vertical alignment */
            left: -2.5rem; /* Positioned relative to the new padding */
            width: 1rem;
            height: 1rem;
            background-color: #D4AF37;
            border-radius: 9999px;
            border: 4px solid #F8F7F5;
        }
        .filter-btn { transition: all 0.3s ease; }
        .filter-btn.active { background-color: #2F4F4F; color: #FFFFFF; transform: scale(1.05); }
        .filter-btn:not(.active) { background-color: #FFFFFF; color: #2F4F4F; }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8">

        <header class="text-center my-8 md:my-12">
            <h1 class="text-4xl md:text-5xl font-bold text-[#2F4F4F] mb-2">とくしま阿波踊り 2025</h1>
            <p class="text-lg text-gray-600">崎本家出演 スケジュール</p>
        </header>

        <main id="schedule" class="bg-white rounded-lg shadow p-6 md:p-8 mb-10">
            <h2 class="text-2xl font-bold text-center text-[#2F4F4F] mb-6">出演タイムライン</h2>
            <p class="text-center text-gray-600 max-w-2xl mx-auto mb-8">下のボタンを組み合わせて、スケジュールを絞り込めます。</p>
            
            <div class="flex flex-col items-center gap-6 mb-8">
                <div id="performer-filters">
                    <h4 class="text-center text-gray-700 mb-3 font-semibold">出演者</h4>
                    <div class="flex justify-center flex-wrap gap-3">
                        <button class="filter-btn performer-btn active font-bold py-2 px-5 rounded-full shadow" data-filter="all">全員</button>
                        <button class="filter-btn performer-btn font-bold py-2 px-5 rounded-full shadow" data-filter="あすみ">あすみ</button>
                        <button class="filter-btn performer-btn font-bold py-2 px-5 rounded-full shadow" data-filter="ゆづき">ゆづき</button>
                        <button class="filter-btn performer-btn font-bold py-2 px-5 rounded-full shadow" data-filter="ゆう">ゆう</button>
                    </div>
                </div>
                <div id="cost-filters">
                    <h4 class="text-center text-gray-700 mb-3 font-semibold">料金</h4>
                    <div class="flex justify-center flex-wrap gap-3">
                        <button class="filter-btn cost-btn active font-bold py-2 px-5 rounded-full shadow" data-filter="all">すべて</button>
                        <button class="filter-btn cost-btn font-bold py-2 px-5 rounded-full shadow" data-filter="有料">有料</button>
                        <button class="filter-btn cost-btn font-bold py-2 px-5 rounded-full shadow" data-filter="無料">無料</button>
                    </div>
                </div>
            </div>

            <div id="timeline-container" class="relative border-l-2 border-gray-200 pl-8">
            </div>
        </main>

    </div>

    <script>
        const scheduleData = [
            { date: '8月9日(金)', time: '19:32', venue: '西おどり広場', type: '舞台踊り', cost: '無料', festival: '鳴門市阿波踊り', performers: ['あすみ', 'ゆづき'] },
            { date: '8月9日(金)', time: '20:23', venue: '大道おどり通り', type: '流し踊り', cost: '無料', festival: '鳴門市阿波踊り', performers: ['あすみ', 'ゆづき'] },
            { date: '8月9日(金)', time: '21:26', venue: '東演舞場', type: '舞台踊り', cost: '無料', festival: '鳴門市阿波踊り', performers: ['あすみ', 'ゆづき'] },
            { date: '8月11日(月)', time: '12:00', venue: 'アスティとくしま', type: '開会式[優りび]', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月11日(月)', time: '15:30', venue: 'アスティとくしま', type: '開会式[優りび]', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月11日(月)', time: '19:00', venue: 'アスティとくしま', type: '開会式[優りび]', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月12日(火)', time: '10:00', venue: '徳島駅前', type: '阿波踊り振興協会合同流し踊り', cost: '無料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月12日(火)', time: '11:00', venue: 'あわぎんホール', type: '舞台公演[祭りび]', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月12日(火)', time: '13:30', venue: 'あわぎんホール', type: '舞台公演[祭りび]', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月12日(火)', time: '16:00', venue: 'あわぎんホール', type: '舞台公演[祭りび]', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月12日(火)', time: '18:00', venue: '両国橋付近', type: 'ゲリラ輪踊り', cost: '無料', festival: '徳島市阿波踊り', performers: ['ゆう', 'ゆづき'] },
            { date: '8月12日(火)', time: '18:42', venue: '紺屋町バル演舞場', type: '流し踊り', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月12日(火)', time: '19:36', venue: 'あわぎん南内町演舞場', type: '流し踊り', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月12日(火)', time: '20:15', venue: '三菱UFJ銀行付近', type: 'ゲリラ輪踊り', cost: '無料', festival: '徳島市阿波踊り', performers: ['ゆう', 'ゆづき'] },
            { date: '8月12日(火)', time: '20:54', venue: 'Sansan藍場浜演舞場', type: '流し踊り', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月12日(火)', time: '21:42', venue: 'あわぎん南内町演舞場', type: '流し踊り(総踊り)', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月13日(水)', time: '18:06', venue: 'あわぎん南内町演舞場', type: '流し踊り', cost: '有料', festival: '徳島市阿波踊り', performers: ['あすみ'] },
            { date: '8月13日(水)', time: '19:18', venue: 'ローソン両国本町演舞場', type: '流し踊り', cost: '無料', festival: '徳島市阿波踊り', performers: ['ゆう', 'ゆづき'] },
            { date: '8月13日(水)', time: '20:20', venue: 'Sansan藍場浜演舞場', type: '流し踊り', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月13日(水)', time: '21:00', venue: '両国橋付近', type: 'ゲリラ輪踊り', cost: '無料', festival: '徳島市阿波踊り', performers: ['ゆう', 'ゆづき'] },
            { date: '8月13日(水)', time: '21:42', venue: 'あわぎん南内町演舞場', type: '流し踊り(総踊り)', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月14日(木)', time: '11:00', venue: 'アスティとくしま', type: 'おどりひろば(体験あり!)', cost: '無料', festival: '徳島市阿波踊り', performers: ['あすみ', 'ゆづき'] },
            { date: '8月14日(木)', time: '14:00', venue: 'アスティとくしま', type: 'おどりひろば(体験あり!)', cost: '無料', festival: '徳島市阿波踊り', performers: ['あすみ', 'ゆづき'] },
            { date: '8月14日(木)', time: '18:12', venue: 'Sansan藍場浜演舞場', type: '流し踊り', cost: '有料', festival: '徳島市阿波踊り', performers: ['あすみ'] },
            { date: '8月14日(木)', time: '19:12', venue: 'あわぎん南内町演舞場', type: '流し踊り', cost: '有料', festival: '徳島市阿波踊り', performers: ['あすみ'] },
            { date: '8月14日(木)', time: '20:00', venue: 'レッドブル両国橋南おどり広場', type: '舞台踊り', cost: '無料', festival: '徳島市阿波踊り', performers: ['あすみ', 'ゆづき'] },
            { date: '8月14日(木)', time: '20:54', venue: '紺屋町バル演舞場', type: '流し踊り', cost: '有料', festival: '徳島市阿波踊り', performers: ['あすみ'] },
            { date: '8月14日(木)', time: '21:42', venue: 'あわぎん南内町演舞場', type: '流し踊り(総踊り)', cost: '有料', festival: '徳島市阿波踊り', performers: ['あすみ'] },
            { date: '8月15日(金)', time: '18:24', venue: 'あわぎん南内町演舞場', type: '流し踊り', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月15日(金)', time: '19:50', venue: '三菱UFJ銀行前', type: 'ゲリラ輪踊り', cost: '無料', festival: '徳島市阿波踊り', performers: ['ゆう', 'ゆづき'] },
            { date: '8月15日(金)', time: '20:30', venue: 'Sansan藍場浜演舞場', type: '流し踊り', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
            { date: '8月15日(金)', time: '21:00', venue: '両国橋付近', type: 'ゲリラ輪踊り', cost: '無料', festival: '徳島市阿波踊り', performers: ['ゆう', 'ゆづき'] },
            { date: '8月15日(金)', time: '21:42', venue: 'あわぎん南内町演舞場', type: '流し踊り(総踊り)', cost: '有料', festival: '徳島市阿波踊り', performers: ['ゆう'] },
        ];

        let currentPerformerFilter = 'all';
        let currentCostFilter = 'all';
        
        const renderTimeline = () => {
            const container = document.getElementById('timeline-container');
            container.innerHTML = '';
            let lastDate = '';

            let filteredData = scheduleData;

            if (currentPerformerFilter !== 'all') {
                filteredData = filteredData.filter(item => item.performers.includes(currentPerformerFilter));
            }

            if (currentCostFilter !== 'all') {
                filteredData = filteredData.filter(item => item.cost === currentCostFilter);
            }

            if (filteredData.length === 0) {
                container.innerHTML = `<div class="pl-8 pb-8 text-gray-500">該当する演舞スケジュールはありません。</div>`;
                return;
            }

            filteredData.forEach(item => {
                let dateHeader = '';
                if (item.date !== lastDate) {
                    dateHeader = `<h3 class="relative text-xl md:text-2xl font-bold text-[#2F4F4F] mb-4 mt-8 timeline-item">${item.date} <span class="text-base font-normal text-gray-500 ml-2">${item.festival}</span></h3>`;
                    lastDate = item.date;
                }
                
                const costTag = item.cost === '有料' 
                    ? `<span class="bg-red-800 text-red-100 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">有料</span>`
                    : item.cost === '無料' 
                    ? `<span class="bg-green-800 text-green-100 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">無料</span>`
                    : '';

                const performerTags = item.performers.map(p => {
                    let colorClass = '';
                    if (p === 'あすみ') colorClass = 'bg-pink-200 text-pink-900';
                    else if (p === 'ゆづき') colorClass = 'bg-yellow-200 text-yellow-900';
                    else if (p === 'ゆう') colorClass = 'bg-blue-200 text-blue-800';
                    return `<span class="font-bold ${colorClass} px-2 py-1 rounded-md text-sm">${p}</span>`;
                }).join(' ');

                const eventHtml = `
                    ${dateHeader}
                    <div class="ml-8 mb-6 flex items-start space-x-4">
                        <div class="bg-[#D4AF37] text-white font-bold text-center rounded-md px-3 py-1 mt-1">${item.time}</div>
                        <div>
                            <h4 class="font-bold text-gray-800">${item.type} @ ${item.venue}</h4>
                            <div class="flex items-center flex-wrap mt-2 gap-2">
                                ${costTag}
                                ${performerTags}
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += eventHtml;
            });
        };

        document.getElementById('performer-filters').addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                currentPerformerFilter = e.target.dataset.filter;
                document.querySelectorAll('.performer-btn').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                renderTimeline();
            }
        });

        document.getElementById('cost-filters').addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                currentCostFilter = e.target.dataset.filter;
                document.querySelectorAll('.cost-btn').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                renderTimeline();
            }
        });

        renderTimeline();
    </script>
</body>
</html>
